<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>dox :: Ionic Framework</title>
	<link rel="icon" href="//ldy.dk/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<h1>Ionic Framework</h1>
	<h2>Restore from Git</h2>
	<pre>
git clone yada-yada-yada
cd $project
npm install
ionic cordova prepare</pre>
	<p><br /></p>

	<h2>Ionic 3</h2>
	<p>If using native plugins (dialogs, appversion) use:</p>
	<pre>
ionic cordova run browser</pre>
	<p>Some plugins (ex. AppVersion) will not show in browser or even not in Ionic View - you have to guard them with:</p>
	<pre>
if (platform.is("cordova")) {
  // Do something
}</pre>
	<p>... and test on a real device.</p>
	<p><br /></p>

	<h2>ionic-native/dialogs</h2>
	<pre>
ionic cordova plugin add cordova-plugin-dialogs
npm install --save @ionic-native/dialogs
ionic cordova platform add browser</pre>
	<p><br /></p>

	<h2>If Android Emulator f*cks up</h2>
	<p>It happens. Delete the <code>$HOME/.android</code> directory and recreate the AVD.</p>
	<p><br /></p>

	<h2>Installation on Linux</h2>
	<p>Tested on Ubuntu 17.10.</p>
	<ol>
		<li>Install Android Development Studio and latest SDK</li>
		<li>Launch Studio and go through the drill of creating your first project.  Download all unmet requirements.</li>
		<li>Create and launch an AVD. Publish your first starter Android project to the AVD and see that it runs.</li>
		<li>If the emulator cannot start due to <code>libGL error: unable to load driver: i965_dri.so</code> then do the following:<br /><pre>
cd Android/Sdk/emulator/lib64/libstdc++
mkdir ORIG
mv libstdc++* ORIG
ln -s /usr/lib/x86_64-linux-gnu/libstdc++.so.6 .</pre></li>
		<li>Install Node.js v6 LTS:<br /><pre>
sudo su -
echo deb https://deb.nodesource.com/node_6.x xenial main &gt; /etc/apt/sources.list.d/nodesource.list
echo deb-src https://deb.nodesource.com/node_6.x xenial main &gt;&gt; /etc/apt/sources.list.d/nodesource.list
curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | sudo apt-key add -
apt update
apt install nodejs
apt install npm</pre></li>
		<li>Make npm packages local to the user:<br /><pre>
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'</pre></li>
		<li>Add necessary environment variables to your profile:<br /><pre>
STUDIO_HOME="/path/to/android-studio"
JAVA_HOME="$STUDIO_HOME/jre"
GRADLE_HOME="$STUDIO_HOME/gradle/gradle-4.1"
ANDROID_HOME="$HOME/Android/Sdk"
NPM_PACKAGES="$HOME/.npm-global"
MANPATH="$NPM_PACKAGES/share/man:$MANPATH"
PATH="$NPM_PACKAGES/bin:$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$JAVA_HOME/bin:$GRADLE_HOME/bin:$PATH"
export JAVA_HOME ANDROID_HOME NPM_PACKAGES MANPATH PATH</pre></li>
		<li>Install Ionic:<br /><pre>
npm install -g cordova ionic</pre></li>
	</ol>
	<p><br /></p>
</body>
</html>
